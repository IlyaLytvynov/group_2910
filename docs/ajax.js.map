{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/ajax/ajax.js","webpack:///./src/ajax/ajax.scss","webpack:///./src/common/feed/feed.js","webpack:///./src/common/feed/feed.scss","webpack:///./src/common/feed/form.js","webpack:///./src/common/feed/index.js","webpack:///./src/common/feed/post.js","webpack:///./src/common/feed/post.scss","webpack:///./src/common/loader/index.js","webpack:///./src/common/loader/loader.js","webpack:///./src/common/loader/loader.scss"],"names":["Feed","document","querySelector","mountPoint","posts","init","render","fetchPosts","wrapper","createElement","content","classList","add","Form","data","sendPost","loader","Loader","appendChild","innerHTML","forEach","post","renderPost","Post","xhr","XMLHttpRequest","open","console","log","send","onload","status","JSON","parse","response","renderPosts","setRequestHeader","stringify","mp","onSubmit","_mountPoint","title","titleInput","value","img","imgUrlInput","contentInput","form","btn","textContent","addEventListener","e","preventDefault","submitHandler","src","likes","h2"],"mappings":"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","file":"ajax.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","import { Feed } from \"../common/feed\";\nimport \"./ajax.scss\";\n\nnew Feed(document.querySelector(\".feed\"));\n","// extracted by mini-css-extract-plugin","import \"./feed.scss\";\nimport { Loader } from \"../loader\";\nimport { Form } from \"./form\";\nimport { Post } from \"./post\";\n\nclass Feed {\n  constructor(mountPoint = document.querySelector(\"body\")) {\n    this.mountPoint = mountPoint;\n    this.posts = [];\n    this.init();\n  }\n\n  init() {\n    this.render();\n    this.fetchPosts();\n  }\n\n  render() {\n    this.wrapper = document.createElement(\"div\");\n    this.content = document.createElement(\"div\");\n    this.content.classList.add(\"feed__contet\");\n    this.wrapper.classList.add(\"feed\");\n    new Form(this.wrapper, data => this.sendPost(data));\n\n    this.loader = new Loader(this.content);\n    this.wrapper.appendChild(this.content);\n    this.mountPoint.appendChild(this.wrapper);\n  }\n\n  renderPosts() {\n    this.content.innerHTML = \"\";\n    this.posts.forEach(post => this.renderPost(post));\n  }\n\n  renderPost(post) {\n    new Post(this.content, post);\n  }\n\n  fetchPosts() {\n    const xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", \"http://localhost:3000/posts\");\n    console.log(\"Before\");\n    xhr.send();\n    xhr.onload = () => {\n      if (xhr.status >= 200 && xhr.status < 300) {\n        console.log(\"LOADED\");\n        this.posts = JSON.parse(xhr.response);\n        console.log(this.posts);\n        this.renderPosts();\n      }\n    };\n  }\n\n  sendPost(data) {\n    const xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", \"http://localhost:3000/posts\");\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n    xhr.send(JSON.stringify(data));\n    xhr.onload = () => {\n      if (xhr.status >= 200 && xhr.status < 300) {\n        console.log(\"LOADED\");\n        console.log(xhr.response);\n        const post = JSON.parse(xhr.response);\n        this.renderPost(post);\n      }\n    };\n  }\n}\n\nexport { Feed };\n","// extracted by mini-css-extract-plugin","export class Form {\n  constructor(mp, onSubmit) {\n    this._mountPoint = mp;\n    this.onSubmit = onSubmit;\n    this.render();\n  }\n\n  submitHandler() {\n    const title = this.titleInput.value;\n    const img = this.imgUrlInput.value;\n    const content = this.contentInput.value;\n    this.onSubmit({ title, img, content });\n  }\n\n  render() {\n    this.form = document.createElement(\"form\");\n    this.titleInput = document.createElement(\"input\");\n    this.imgUrlInput = document.createElement(\"input\");\n    this.contentInput = document.createElement(\"textarea\");\n    this.btn = document.createElement(\"button\");\n    this.btn.textContent = \"ADD\";\n\n    this.form.addEventListener(\"submit\", e => {\n      e.preventDefault();\n      this.submitHandler();\n    });\n\n    this.form.appendChild(this.titleInput);\n    this.form.appendChild(this.imgUrlInput);\n    this.form.appendChild(this.contentInput);\n    this.form.appendChild(this.btn);\n    this._mountPoint.appendChild(this.form);\n  }\n}\n","export * from \"./feed\";\n","import \"./post.scss\";\n\nexport class Post {\n  constructor(mp, data) {\n    this.mountPoint = mp;\n    this.data = data;\n    this.render();\n  }\n\n  render() {\n    this.wrapper = document.createElement(\"div\");\n    this.wrapper.classList.add(\"post\");\n\n    this.img = document.createElement(\"img\");\n    this.img.src = this.data.img;\n    this.likes = document.createElement(\"div\");\n    this.likes.classList.add(\"post__likes\");\n    this.likes.textContent = this.data.likes;\n\n    this.h2 = document.createElement(\"h2\");\n    this.h2.textContent = this.data.title;\n    this.wrapper.appendChild(this.img);\n    this.wrapper.appendChild(this.h2);\n    this.wrapper.appendChild(this.likes);\n    this.mountPoint.appendChild(this.wrapper);\n  }\n}\n","// extracted by mini-css-extract-plugin","export * from \"./loader\";\n","import \"./loader.scss\";\n\nexport class Loader {\n  constructor(mp) {\n    this.mountPoint = mp;\n    this.render();\n  }\n\n  render() {\n    this.mountPoint.innerHTML = `\n      <div class=\"loader\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>`;\n  }\n}\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}